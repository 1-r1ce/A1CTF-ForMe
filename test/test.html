<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Path Animation</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #000000;
            margin: 0;
        }

        #a1logo {
            width: 400px;
            transform: scaleX(-1); /* 先翻转，再平移回原位置 */
            height: 400px;
        }

        #a1path {
            fill: none;
            stroke: #ffffff; /* 线条颜色 */
            stroke-width: 20;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 0; /* 设定虚线长度，这里是路径的估算长度 */
            stroke-dashoffset: 0; /* 初始路径不可见 */
            animation: draw 5s cubic-bezier(0.42, 0, 0.58, 1) forwards;
            filter: url(#glow); /* 应用炫光效果 */
        }

        /* 定义路径绘制的动画 */
        @keyframes draw {
            from {
                stroke-dashoffset: 3000; /* 从完全不可见开始 */
            }
            to {
                stroke-dashoffset: 0; /* 结束时路径完全绘制出来 */
            }
        }

        @keyframes glow {
            0% {
                stroke: #3498db;
            }
            50% {
                stroke: #1abc9c;
            }
            100% {
                stroke: #e74c3c;
            }
        }


    </style>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" id="a1logo" viewBox="0 0 4000 4000">

        <defs>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur in="SourceGraphic" stdDeviation="100" result="blurred" />
                <feComponentTransfer in="blurred">
                    <feFuncA type="table" tableValues="0.3 1" />
                </feComponentTransfer>
                <feMerge>
                    <feMergeNode in="blurred" />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>
        </defs>

        <path id="a1path" d="M897 2692 c-488 -488 -887 -892 -887 -897 0 -5 126 -136 281 -291
        l281 -281 -51 -101 -51 -102 90 -45 c49 -25 91 -45 93 -45 2 0 18 32 37 70
        l34 71 533 -533 533 -533 890 890 c490 489 890 894 890 900 0 6 -126 136 -279
        289 l-279 279 49 98 c27 54 49 101 49 104 0 4 -174 95 -183 95 -2 0 -18 -32
        -37 -70 l-34 -71 -531 531 c-291 291 -532 530 -535 530 -3 0 -404 -399 -893
        -888z m1378 108 l480 -480 -105 -210 -105 -210 -345 0 -345 0 -236 472 -236
        473 -237 -473 -236 -472 -175 0 -175 0 0 -105 0 -105 120 0 c66 0 120 -2 120
        -5 0 -6 -120 -248 -127 -255 -2 -2 -87 79 -188 180 l-185 185 742 742 c409
        409 745 743 748 743 3 0 221 -216 485 -480z m-772 -665 l117 -235 -240 0 -240
        0 117 235 c65 129 120 235 123 235 3 0 58 -106 123 -235z m1032 -1085 l-745
        -745 -482 482 -483 483 105 210 105 210 345 0 345 0 235 -470 c129 -258 237
        -470 240 -470 3 0 111 211 240 470 l235 470 172 0 173 0 0 105 0 105 -120 0
        -120 0 66 132 66 131 184 -184 184 -184 -745 -745z m-212 405 c-65 -129 -120
        -235 -123 -235 -3 0 -58 106 -123 235 l-117 235 240 0 240 0 -117 -235z" />
    </svg>
</body>
<script>
    window.onload = function() {
        const a1path = document.getElementById('a1path');
        const pathLength = a1path.getTotalLength();

        // 设置初始的 stroke-dasharray 和 stroke-dashoffset
        a1path.style.strokeDasharray = pathLength;
        a1path.style.strokeDashoffset = pathLength;


        const svg = document.getElementById("a1logo");
        const path = document.getElementById("a1path");
        
        const bbox = path.getBBox();  // 获取路径的边界框
        const dx = (svg.viewBox.baseVal.width - bbox.width) / 2 - bbox.x;
        const dy = (svg.viewBox.baseVal.height - bbox.height) / 2 - bbox.y;

        // 使用 transform 将路径平移到居中位置
        path.setAttribute("transform", `translate(${dx}, ${dy})`);
        console.log(`translate(${dx}, ${dy})`)

        // 启动动画
        path.animate([
            { strokeDashoffset: pathLength },
            { strokeDashoffset: 0 }
        ], {
            duration: 5000, /* 动画持续5秒 */
            fill: 'forwards', /* 动画结束后保持最终状态 */
            iterations: 1
        });
    }
</script>
</html>
